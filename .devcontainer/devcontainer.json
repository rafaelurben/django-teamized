{
    "name": "Django Teamized Dev",
    "image": "mcr.microsoft.com/devcontainers/python:3.13",
    "features": {
        "ghcr.io/devcontainers/features/node:1": {}
    },
    "containerEnv": {
        "TEAMIZED_DEV_SERVER_HOST": "https://${localEnv:CODESPACE_NAME}-8081.${localEnv:GITHUB_CODESPACES_PORT_FORWARDING_DOMAIN}",
        "PUBLIC_URL": "https://${localEnv:CODESPACE_NAME}-8080.${localEnv:GITHUB_CODESPACES_PORT_FORWARDING_DOMAIN}",
        "DJANGO_SETTINGS_MODULE": "devproject.settings",
        "DJANGO_SUPERUSER_PASSWORD": "admin",
        "DJANGO_SUPERUSER_USERNAME": "admin",
        "DJANGO_SUPERUSER_EMAIL": "admin@localhost"
    },
    "forwardPorts": [8000, 8081],
    "portsAttributes": {
        "8000": {
            "label": "Django",
            "onAutoForward": "notify"
        },
        "8081": {
            "label": "Liveserver",
            "onAutoForward": "notify"
        }
    },
    "postCreateCommand": "chmod +x ./devproject/post-create.sh && ./devproject/post-create.sh",
    "postAttachCommand": {
        "django": "python -m django runserver",
        "devserver": "cd teamized/app && npm run build-dev",
        "print-urls": "echo Django application available at: $PUBLIC_URL && echo Webpack dev server available at: $TEAMIZED_DEV_SERVER_HOST"
    },
    "customizations": {
        "vscode": {
            "extensions": [
                "ms-python.python",
                "ms-python.vscode-pylance",
                "dbaeumer.vscode-eslint",
                "esbenp.prettier-vscode",
                "batisteo.vscode-django"
            ]
        }
    }
}
